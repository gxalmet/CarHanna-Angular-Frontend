<app-main-nav></app-main-nav>
<section class=" row ">
    <div class="text-left container my-xl-auto ">
        <section class="container-xl ">
            <div class="container-fluid ">
                <h4>
                    {{title}}
                </h4>
            </div>
        </section>
        <section class="container-xl" *ngIf="message">
            <div class="container-fluid alert alert-primary" role="alert">
                <h3>
                    {{message}}
                </h3>
            </div>
        </section>
    </div>
    <section class="container-xl ">
        <div class="container-fluid ">
            <button type="button" class="btn btn-secondary btn-lg btn-light btn-block" (click)="onCreateproject()">Create project</button>
        </div>
        <br>
    </section>
    <section class="container-xl ">

        <!-- <table id="project" class="table table-striped">
            <tr>
                <th scope="col" *ngFor="let col of columns">
                    {{col}}
                </th>
            </tr>
            <tr *ngFor="let project of projects">
                <td *ngIf="project['parentId']">
                    <button type="button" class="btn btn-warning fa-pull-right" (click)="onNavigate(project)">{{project["name"]}}</button>
                </td>
                <td *ngIf="!project['parentId']">
                    <button type="button" class="btn btn-light fa-pull-left" (click)="onNavigate(project)">{{project["name"]}}</button>
                </td>
                <td>
                    {{project["description"]}}
                </td>
                <td>
                    {{project.check_date["begin_date"].slice(0,10)}}
                </td>
                <td>
                    {{project.check_date["end_date"].slice(0,10)}}
                </td>
                <td>
                    {{project["status"]}}
                </td>
            </tr>

        </table> -->
        <!-- Bootstrap -->



        <!-- jQuery -->





        <!-- <table id="project" class="table table-hover table-bordered">
            <tbody>

                <tr>
                    <th scope="col" *ngFor="let col of columns">
                        {{col}}
                    </th>
                </tr> -->

        <!-- <tr *ngFor="let project of projects" data-id={{project[ 'id']}} data-parent={{project[ 'parent']}}data-level={{project[ 'level']}}>
                    <td>
                        <button type="button " class="btn btn-warning " (click)="onNavigate(project) ">{{project["name "]}}</button>
                    </td>
                    <td>
                        {{project["description "]}}
                    </td>
                    <td>
                        {{project.check_date["begin_date "]}}
                    </td>
                    <td>
                        {{project.check_date["end_date "]}}
                    </td>
                    <td>
                        {{project["status "]}}
                    </td>
                </tr> -->


        <!-- <table id="tree-table" class="table table-hover table-bordered">
            <tbody>
                <th>#</th>
                <th>Test</th>
                <tr data-id="1" data-parent="0" data-level="1">
                    <td data-column="name">Node 1</td>
                    <td>Additional info</td>
                </tr>
                <tr data-id="2" data-parent="1" data-level="2">
                    <td data-column="name">Node 1</td>
                    <td>Additional info</td>
                </tr>
                <tr data-id="3" data-parent="1" data-level="2">
                    <td data-column="name">Node 1</td>
                    <td>Additional info</td>
                </tr>
                <tr data-id="4" data-parent="3" data-level="3">
                    <td data-column="name">Node 1</td>
                    <td>Additional info</td>
                </tr>
                <tr data-id="5" data-parent="3" data-level="3">
                    <td data-column="name">Node 1</td>
                    <td>Additional info</td>
                </tr>
            </tbody>

        </table> -->
        <mat-tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl" class="my-tree">
            <mat-tree-node *matTreeNodeDef="let node">
                <li class="mat-tree-node">
                    <button mat-icon-button disabled></button> {{node.project.name}}
                </li>
            </mat-tree-node>

            <mat-nested-tree-node *matTreeNodeDef="let node; when: hasNestedChild">
                <li>
                    <!-- <mat-progress-bar *ngIf="node.isLoading" mode="indeterminate" class="my-tree-progress-bar"></mat-progress-bar> -->
                    <div class="mat-tree-node">
                        <button mat-icon-button matTreeNodeToggle>
                            <mat-icon class="mat-icon-rtl-mirror">
                                {{nestedTreeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                                
                            </mat-icon>
                        </button>
                        <button type="button " class="btn-head btn-sm btn-block" (click)="onNavigate(node.project) ">{{node.project.name}}</button>

                        <button type="button " class="btn btn-field btn-sm btn-block"> {{node.project.check_date.begin_date.slice(0,10)}} </button>
                        <button type="button " class="btn btn-field btn-sm btn-block"> {{node.project.check_date.end_date.slice(0,10)}} </button>
                        <button type="button " class="btn btn-field btn-sm btn-block"> {{node.project.status}} </button>


                    </div>

                    <ul [class.my-tree-invisible]="!nestedTreeControl.isExpanded(node)">
                        <ng-container matTreeNodeOutlet></ng-container>
                    </ul>
                </li>
            </mat-nested-tree-node>
        </mat-tree>
    </section>
</section>
<!-- jQuery -->